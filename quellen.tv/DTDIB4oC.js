import{i as R,r as i,T as p,g as y,S as T,a as C,b as k,c as z,d as x,e as H,t as B,f as w,h as Y,j as q,k as $,l as L,m as W}from"./CYM2abHa.js";const V="instant";let v=R()?1:0,_=null;const K=i(document.querySelector(".controls")),E=i(document.querySelector(".container")),a=i(document.querySelector(".toc")),I=i(document.querySelector(".toc-toggle")),P=document.querySelector(".toc-expanded-toggle"),G=i(document.querySelector(".toc-overlay-toggle")),U=i(document.querySelector(".toc-search-toggle")),j=i(document.querySelector(".search__input")),A=i(document.querySelector(".scrollreset"));function F(t,e="instant"){t.getBoundingClientRect().top<0&&t.scrollIntoView({block:"center",inline:"center",behavior:e}),t.getBoundingClientRect().bottom>window.innerHeight&&t.scrollIntoView({block:"center",inline:"center",behavior:e})}function Q(){function t(){const r=localStorage.getItem(T);if(r!==null){if(Object.values(p).includes(r))return r;localStorage.removeItem(T)}return C}const e=document.documentElement,o=i(document.querySelector(".theme-select")),n=t(),l=n===p.System;e.setAttribute("data-theme",l?y():n),o.value=n,o.addEventListener("change",()=>{const r=o.value,s=r===p.System;e.setAttribute("data-theme",s?y():r),localStorage.setItem(T,r),r===C&&localStorage.removeItem(T)}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{o.value===p.System&&e.setAttribute("data-theme",y())})}function D(){const t=location.hash.substring(1);return t?decodeURI(t.toLowerCase()):null}function O(t,e,o=!0,n=E.getAttribute(e)==="true",l=!1){if(e==="data-toc-search"){B(E,e),E.getAttribute(e)==="true"&&j.focus();return}const r=i(t.querySelector("use"));E.setAttribute(e,String(!n)),r.setAttribute("xlink:href",n?"#menu":"#close");const s=W(L.TOC_TOGGLE),c=`Inhaltsverzeichnis ${n?"ein":"aus"}blenden (${s})`;t.title=c,t.ariaLabel=c,e==="data-toc"&&(n?K.append(t):U.insertAdjacentElement("afterend",t),o&&t.focus(),l||localStorage.setItem(k,String(!n))),e==="data-toc-overlay"&&(n||_&&(a.scrollTop=_))}function N(){const t=Array.from(document.querySelectorAll(".toc__item")),e=t.some(o=>o.getAttribute("aria-expanded")==="true");t.forEach(o=>{o.setAttribute("aria-expanded",String(!e))})}function J(){const t=localStorage.getItem(k);t!==null&&O(I,"data-toc",!1,t==="false",!0);let e=D();if(!e)return;let o=document.getElementById(e);if(!o){const l=z(e),r=document.getElementById(l);if(r)e=l,o=r,window.location.hash=l;else{console.error(`Unable to find element matching hash for initial scroll (hash: "${e}")`);return}}let n=setInterval(()=>{document.readyState==="complete"&&(clearInterval(n),setTimeout(()=>{const l=document.querySelectorAll("[aria-current='page']"),r=i(a.querySelector(`a[href="#${e}"]`));l.forEach(c=>c.removeAttribute("aria-current")),r.setAttribute("aria-current","page");const s=localStorage.getItem(x);if(s!==null){const c=Number(s);a.scrollTo({top:c,behavior:"instant"})}},1))},20)}function X(){const e=document.querySelectorAll(".content h1,h2,h3,h4,h5,h6");if(e.length===0)return;const o=new Map,n=document.querySelectorAll(".toc__link");let l=!1;function r(){let c=null;for(const[u,g]of o.entries()){if(!g)continue;let h=-1;u.hasAttribute("data-title")?h=0:h=[...n].findIndex(S=>`#${u.id}`===S.getAttribute("href")),h!==-1&&(c===null||h<c)&&(c=h)}if(c===null)return;const m=[...n][c];for(const u of n){const g=u.getAttribute("href");if(!(g===m?.getAttribute("href"))){u.removeAttribute("aria-current");continue}u.setAttribute("aria-current","page"),(b=>{let d=b.parentElement;for(;d;){if(d.matches('li[aria-expanded="false"]')){const f=d?.querySelector("a");f&&f.setAttribute("aria-current","page")}d=d.parentElement}})(u);const S=m.hasAttribute("data-title");if(S?a.scrollTo({top:v,behavior:"instant"}):F(u,"instant"),`#${D()}`!==g){const{pathname:b,search:d}=window.location;let f=g;S&&(f=l?b+d:null),f&&history.replaceState(null,"",f),l||(l=!0)}}}const s=new IntersectionObserver(c=>{for(const m of c)o.set(m.target,m.isIntersecting);r()});for(let c=0;c<e.length;c++)s.observe(e[c])}function Z(){Array.from(document.querySelectorAll(".toc__item[aria-expanded] .toc__link")).filter(e=>e.nextElementSibling?.tagName==="OL").forEach(e=>{e.addEventListener("click",o=>{if(!H(o.target))return;o.preventDefault();const n=e.parentElement,l=e.nextElementSibling?.querySelector('[aria-current="page"]');l&&e.setAttribute("aria-current","page");const r=n?.getAttribute("aria-expanded");l&&r==="false"&&e.removeAttribute("aria-current"),B(i(n),"aria-expanded")})})}function ee(){a.addEventListener("scroll",()=>{E.getAttribute("data-toc-overlay")==="true"?_=a.scrollTop:localStorage.setItem(x,String(a.scrollTop.toFixed(0)))},{passive:!0});let t=!1,e,o=0;window.addEventListener("scroll",()=>{if(t)return;const n=window.pageYOffset||document.documentElement.scrollTop;if(n>o)A.setAttribute("aria-hidden",String(!0));else{if(document.querySelector(".toast"))return;window.scrollY>w?A.removeAttribute("aria-hidden"):A.setAttribute("aria-hidden",String(!0))}o=n},{passive:!0}),window.addEventListener("resize",()=>{t=!0,clearTimeout(e),e=setTimeout(()=>t=!1,10)},{passive:!0})}function te(){function t(e,o){e.addEventListener("click",()=>O(e,o))}t(I,"data-toc"),t(G,"data-toc-overlay"),t(U,"data-toc-search"),P?.addEventListener("click",N)}function oe(){document.querySelectorAll(".toc__link").forEach(e=>{e.addEventListener("click",o=>{window.innerWidth>Y||H(o.target)||setTimeout(()=>{G.click()},1)})})}function ne(){const t=document.querySelectorAll(".toc__link[data-title], h1[data-title] .selflink");t.length>0&&t.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault(),document.documentElement.scrollTo({top:v,behavior:V}),history.pushState({},"",e.href),e.blur()})})}function re(){A.addEventListener("click",()=>{window.scrollY>w&&document.documentElement.scrollTo({top:v,behavior:V}),a.scrollTop>w&&a.scrollTo({top:v,behavior:"instant"}),R()||i(document.querySelector(".contentskip")).focus()})}function ce(){q.size!==0&&document.addEventListener("keydown",t=>{if(!$())for(const[e,o]of q.entries()){let n=[];if(typeof o=="string"?n.push(o):n.push(...o),!!n.includes(t.key))switch(e){case L.TOC_TOGGLE:t.preventDefault(),O(I,"data-toc",!1);continue;case L.TOC_COLLAPSE_TOGGLE:t.preventDefault(),N();continue}}})}Q();J();X();Z();ee();te();oe();ne();re();ce();
